treatment = "op_expo_ew",
benchmark_covariates = "total_lobby_quarter",
kd = 20
)
)
dev.off()
# Regulatory
pdf("~/Dropbox (Princeton)/BBH/BBH1/results/Figures/sensitivity/sensitivity_plots_occurrence_rg_qty.pdf", width = 5, height = 5)
# First Plot
plot(
sensemakr(
m_occurrence,
treatment = "rg_expo_ew",
benchmark_covariates = "total_lobby_quarter",
kd = 20
)
)
dev.off()
# Regulatory
pdf("~/Dropbox (Princeton)/BBH/BBH1/results/Figures/sensitivity/sensitivity_plots_occurrence_ph_qty.pdf", width = 5, height = 5)
# First Plot
plot(
sensemakr(
m_occurrence,
treatment = "ph_expo_ew_y",
benchmark_covariates = "total_lobby_quarter",
kd = 20
)
)
dev.off()
# First Plot
plot(
sensemakr(
m_occurrence,
treatment = "ph_expo_ew",
benchmark_covariates = "total_lobby_quarter",
kd = 20
)
)
dev.off()
names(df)
m_amount <- feols(CLI_amount_quarter ~ op_expo_ew + rg_expo_ew + ph_expo_ew + ebit + ebit_asset + us_dummy + total_lobby_quarter | year + industry + industry_year, df)
m_amount <- feols(CLI_amount_quarter ~ op_expo_ew + rg_expo_ew + ph_expo_ew + ebit + ebit_at + us_dummy + total_lobby_quarter | year + industry + industry_year, df)
m_amount <- feols(CLI_amount_quarter ~ op_expo_ew + rg_expo_ew + ph_expo_ew + ebit + ebit_at + us_dummy + total_lobby_quarter | year + industry + industry_year, df)
# Opportunity
pdf("~/Dropbox (Princeton)/BBH/BBH1/results/Figures/sensitivity/sensitivity_plots_amount_op_qrt.pdf", width = 5, height = 5)
# First Plot
plot(
sensemakr(
m_amount,
treatment = "op_expo_ew",
benchmark_covariates = "total_lobby_quarter",
kd = 2
)
)
dev.off()
# Regulatory
pdf("~/Dropbox (Princeton)/BBH/BBH1/results/Figures/sensitivity/sensitivity_plots_amount_rg_qrt.pdf", width = 5, height = 5)
# First Plot
plot(
sensemakr(
m_amount,
treatment = "rg_expo_ew",
benchmark_covariates = "total_lobby_quarter",
kd = 2
)
)
dev.off()
# Regulatory
pdf("~/Dropbox (Princeton)/BBH/BBH1/results/Figures/sensitivity/sensitivity_plots_amount_ph_qrt.pdf", width = 5, height = 5)
# First Plot
plot(
sensemakr(
m_amount,
treatment = "ph_expo_ew",
benchmark_covariates = "total_lobby_quarter",
kd = 2
)
)
dev.off()
pdf("~/Dropbox (Princeton)/BBH/BBH1/results/Figures/sensitivity/sensitivity_plots_occurrence_ph_qty.pdf", width = 5, height = 5)
# First Plot
plot(
sensemakr(
m_occurrence,
treatment = "ph_expo_ew",
benchmark_covariates = "total_lobby_quarter",
kd = 20
)
)
dev.off()
plot(
sensemakr(
m_occurrence,
treatment = "ph_expo_ew",
benchmark_covariates = "total_lobby_quarter",
kd = 20
)
)
plot(
sensemakr(
m_occurrence,
treatment = "ph_expo_ew",
benchmark_covariates = "total_lobby_quarter",
kd = 10
)
)
df$`Total Lobbying`<- df$total_lobby_quarter
df$`Total Lobbying`<- df$total_lobby_quarter
df$CLI <- as.numeric(df$CLI_quarter)
m_occurrence <- feols(CLI ~ op_expo_ew + rg_expo_ew + ph_expo_ew + ebit + ebit_at + us_dummy + `Total Lobbying` | year + industry + industry_year, df)
# Opportunity
pdf("~/Dropbox (Princeton)/BBH/BBH1/results/Figures/sensitivity/sensitivity_plots_occurrence_op_qty.pdf", width = 5, height = 5)
# First Plot
plot(
sensemakr(
m_occurrence,
treatment = "op_expo_ew",
benchmark_covariates = "Total Lobbying",
kd = 20
)
)
pdf("~/Dropbox (Princeton)/BBH/BBH1/results/Figures/sensitivity/sensitivity_plots_occurrence_op_qty.pdf", width = 5, height = 5)
# First Plot
plot(
sensemakr(
m_occurrence,
treatment = "op_expo_ew",
benchmark_covariates = "`Total Lobbying`",
kd = 20
)
)
dev.off()
df$`Total Lobbying`<- df$total_lobby_quarter
df$CLI <- as.numeric(df$CLI_quarter)
m_occurrence <- feols(CLI ~ op_expo_ew + rg_expo_ew + ph_expo_ew + ebit + ebit_at + us_dummy + `Total Lobbying` | year + industry + industry_year, df)
# Opportunity
pdf("~/Dropbox (Princeton)/BBH/BBH1/results/Figures/sensitivity/sensitivity_plots_occurrence_op_qty.pdf", width = 5, height = 5)
# First Plot
plot(
sensemakr(
m_occurrence,
treatment = "op_expo_ew",
benchmark_covariates = "`Total Lobbying`",
kd = 20
)
)
dev.off()
# Regulatory
pdf("~/Dropbox (Princeton)/BBH/BBH1/results/Figures/sensitivity/sensitivity_plots_occurrence_rg_qty.pdf", width = 5, height = 5)
# First Plot
plot(
sensemakr(
m_occurrence,
treatment = "rg_expo_ew",
benchmark_covariates = "`Total Lobbying`",
kd = 20
)
)
dev.off()
# Regulatory
pdf("~/Dropbox (Princeton)/BBH/BBH1/results/Figures/sensitivity/sensitivity_plots_occurrence_ph_qty.pdf", width = 5, height = 5)
# First Plot
plot(
sensemakr(
m_occurrence,
treatment = "ph_expo_ew",
benchmark_covariates = "`Total Lobbying`",
kd = 20
)
)
dev.off()
pdf("~/Dropbox (Princeton)/BBH/BBH1/results/Figures/sensitivity/sensitivity_plots_occurrence_op_qty.pdf", width = 5, height = 5)
# First Plot
plot(
sensemakr(
m_occurrence,
treatment = "op_expo_ew",
benchmark_covariates = "`Total Lobbying`",
kd = 15
)
)
dev.off()
# Regulatory
pdf("~/Dropbox (Princeton)/BBH/BBH1/results/Figures/sensitivity/sensitivity_plots_occurrence_rg_qty.pdf", width = 5, height = 5)
# First Plot
plot(
sensemakr(
m_occurrence,
treatment = "rg_expo_ew",
benchmark_covariates = "`Total Lobbying`",
kd = 15
)
)
dev.off()
# Regulatory
pdf("~/Dropbox (Princeton)/BBH/BBH1/results/Figures/sensitivity/sensitivity_plots_occurrence_ph_qty.pdf", width = 5, height = 5)
# First Plot
plot(
sensemakr(
m_occurrence,
treatment = "ph_expo_ew",
benchmark_covariates = "`Total Lobbying`",
kd = 15
)
)
dev.off()
pdf("~/Dropbox (Princeton)/BBH/BBH1/results/Figures/sensitivity/sensitivity_plots_occurrence_op_qty.pdf", width = 5, height = 5)
# First Plot
plot(
sensemakr(
m_occurrence,
treatment = "op_expo_ew",
benchmark_covariates = "`Total Lobbying`",
kd = 12
)
)
dev.off()
# Regulatory
pdf("~/Dropbox (Princeton)/BBH/BBH1/results/Figures/sensitivity/sensitivity_plots_occurrence_rg_qty.pdf", width = 5, height = 5)
# First Plot
plot(
sensemakr(
m_occurrence,
treatment = "rg_expo_ew",
benchmark_covariates = "`Total Lobbying`",
kd = 12
)
)
dev.off()
# Regulatory
pdf("~/Dropbox (Princeton)/BBH/BBH1/results/Figures/sensitivity/sensitivity_plots_occurrence_ph_qty.pdf", width = 5, height = 5)
# First Plot
plot(
sensemakr(
m_occurrence,
treatment = "ph_expo_ew",
benchmark_covariates = "`Total Lobbying`",
kd = 12
)
)
dev.off()
# Opportunity
pdf("~/Dropbox (Princeton)/BBH/BBH1/results/Figures/sensitivity/sensitivity_plots_occurrence_op_qty.pdf", width = 6, height = 6)
# First Plot
plot(
sensemakr(
m_occurrence,
treatment = "op_expo_ew",
benchmark_covariates = "`Total Lobbying`",
kd = 15
)
)
dev.off()
m_occurrence <- feols(CLI ~ op_expo_ew + rg_expo_ew + ph_expo_ew + ebit + ebit_at + us_dummy + `Total Lobbying` | year + industry + industry_year, df)
# Opportunity
pdf("~/Dropbox (Princeton)/BBH/BBH1/results/Figures/sensitivity/sensitivity_plots_occurrence_op_qty.pdf", width = 6, height = 6)
# First Plot
plot(
sensemakr(
m_occurrence,
treatment = "op_expo_ew",
benchmark_covariates = "`Total Lobbying`",
kd = 15
)
)
dev.off()
# Regulatory
pdf("~/Dropbox (Princeton)/BBH/BBH1/results/Figures/sensitivity/sensitivity_plots_occurrence_rg_qty.pdf", width = 6, height = 6)
# First Plot
plot(
sensemakr(
m_occurrence,
treatment = "rg_expo_ew",
benchmark_covariates = "`Total Lobbying`",
kd = 15
)
)
dev.off()
# Regulatory
pdf("~/Dropbox (Princeton)/BBH/BBH1/results/Figures/sensitivity/sensitivity_plots_occurrence_ph_qty.pdf", width = 6, height = 6)
# First Plot
plot(
sensemakr(
m_occurrence,
treatment = "ph_expo_ew",
benchmark_covariates = "`Total Lobbying`",
kd = 15
)
)
dev.off()
m_amount <- feols(CLI_amount_quarter ~ op_expo_ew + rg_expo_ew + ph_expo_ew + ebit + ebit_at + us_dummy + `Total Lobbying` | year + industry + industry_year, df)
# Opportunity
pdf("~/Dropbox (Princeton)/BBH/BBH1/results/Figures/sensitivity/sensitivity_plots_amount_op_qrt.pdf", width = 6, height = 6)
# First Plot
plot(
sensemakr(
m_amount,
treatment = "op_expo_ew",
benchmark_covariates = "`Total Lobbying`",
kd = 12
)
)
dev.off()
# Regulatory
pdf("~/Dropbox (Princeton)/BBH/BBH1/results/Figures/sensitivity/sensitivity_plots_amount_rg_qrt.pdf", width = 6, height = 6)
# First Plot
plot(
sensemakr(
m_amount,
treatment = "rg_expo_ew",
benchmark_covariates = "`Total Lobbying`",
kd = 12
)
)
dev.off()
# Regulatory
pdf("~/Dropbox (Princeton)/BBH/BBH1/results/Figures/sensitivity/sensitivity_plots_amount_ph_qrt.pdf", width = 6, height = 6)
# First Plot
plot(
sensemakr(
m_amount,
treatment = "ph_expo_ew",
benchmark_covariates = "`Total Lobbying`",
kd = 12
)
)
dev.off()
m_amount <- feols(CLI_amount_quarter ~ op_expo_ew + rg_expo_ew + ph_expo_ew + ebit + ebit_at + us_dummy + `Total Lobbying` | year + industry + industry_year, df)
# Opportunity
pdf("~/Dropbox (Princeton)/BBH/BBH1/results/Figures/sensitivity/sensitivity_plots_amount_op_qrt.pdf", width = 6, height = 6)
# First Plot
plot(
sensemakr(
m_amount,
treatment = "op_expo_ew",
benchmark_covariates = "`Total Lobbying`",
kd = 2
)
)
dev.off()
# Regulatory
pdf("~/Dropbox (Princeton)/BBH/BBH1/results/Figures/sensitivity/sensitivity_plots_amount_rg_qrt.pdf", width = 6, height = 6)
# First Plot
plot(
sensemakr(
m_amount,
treatment = "rg_expo_ew",
benchmark_covariates = "`Total Lobbying`",
kd = 2
)
)
dev.off()
# Regulatory
pdf("~/Dropbox (Princeton)/BBH/BBH1/results/Figures/sensitivity/sensitivity_plots_amount_ph_qrt.pdf", width = 6, height = 6)
# First Plot
plot(
sensemakr(
m_amount,
treatment = "ph_expo_ew",
benchmark_covariates = "`Total Lobbying`",
kd = 2
)
)
dev.off()
m_amount <- feols(CLI_amount_quarter ~ op_expo_ew + rg_expo_ew + ph_expo_ew + ebit + ebit_at + us_dummy + `Total Lobbying` | year + industry + industry_year, df)
# Opportunity
pdf("~/Dropbox (Princeton)/BBH/BBH1/results/Figures/sensitivity/sensitivity_plots_amount_op_qrt.pdf", width = 6, height = 6)
# First Plot
plot(
sensemakr(
m_amount,
treatment = "op_expo_ew",
benchmark_covariates = "`Total Lobbying`",
kd = 20
)
)
dev.off()
# Regulatory
pdf("~/Dropbox (Princeton)/BBH/BBH1/results/Figures/sensitivity/sensitivity_plots_amount_rg_qrt.pdf", width = 6, height = 6)
# First Plot
plot(
sensemakr(
m_amount,
treatment = "rg_expo_ew",
benchmark_covariates = "`Total Lobbying`",
kd = 20
)
)
dev.off()
# Regulatory
pdf("~/Dropbox (Princeton)/BBH/BBH1/results/Figures/sensitivity/sensitivity_plots_amount_ph_qrt.pdf", width = 6, height = 6)
# First Plot
plot(
sensemakr(
m_amount,
treatment = "ph_expo_ew",
benchmark_covariates = "`Total Lobbying`",
kd = 20
)
)
dev.off()
# Opportunity
pdf("~/Dropbox (Princeton)/BBH/BBH1/results/Figures/sensitivity/sensitivity_plots_amount_op_qrt.pdf", width = 6, height = 6)
# First Plot
plot(
sensemakr(
m_amount,
treatment = "op_expo_ew",
benchmark_covariates = "`Total Lobbying`",
kd = 1
)
)
dev.off()
# Regulatory
pdf("~/Dropbox (Princeton)/BBH/BBH1/results/Figures/sensitivity/sensitivity_plots_amount_rg_qrt.pdf", width = 6, height = 6)
# First Plot
plot(
sensemakr(
m_amount,
treatment = "rg_expo_ew",
benchmark_covariates = "`Total Lobbying`",
kd = 1
)
)
dev.off()
# Regulatory
pdf("~/Dropbox (Princeton)/BBH/BBH1/results/Figures/sensitivity/sensitivity_plots_amount_ph_qrt.pdf", width = 6, height = 6)
# First Plot
plot(
sensemakr(
m_amount,
treatment = "ph_expo_ew",
benchmark_covariates = "`Total Lobbying`",
kd = 1
)
)
dev.off()
rm(list=ls())
# load packages
pacman::p_load(data.table, tidyverse, modelsummary,
marginaleffects, kableExtra, fixest,
janitor, viridis, censReg)
# set working directory
if(Sys.info()["user"]=="fiona" ) {setwd("/Users/fiona/Dropbox/BBH/BBH1/")}
if(Sys.info()["user"]=="christianbaehr" ) {setwd("/Users/christianbaehr/Dropbox/BBH/BBH1/")}
if(Sys.info()["user"]=="vincentheddesheimer" ) {setwd("~/Dropbox (Princeton)/BBH/BBH1/")}
# load data
df <- fread("data/03_final/lobbying_df_quarterly_REVISE_normal.csv")
# Specify covariate names
cm <- c("op_expo_ew" = "Opportunity Exposure",
"rg_expo_ew" = "Regulatory Exposure",
"ph_expo_ew" = "Physical Exposure",
"cc_expo_ew" = "Overall Exposure",
"ebit" = "EBIT",
"I(ebit/at)" = "EBIT/Assets",
"ebit_at" = "EBIT/Assets",
"us_dummy" = "US HQ",
"total_lobby_quarter" = "Total Lobbying ($)"
)
df$CLI <- as.numeric(df$CLI_quarter)
# Lobbying Occurrence ------------------------------------------------------
## Overall exposure  -------------------------------------------------
# models <- list(
#   "(1)" = feglm(CLI ~ cc_expo_ew_y, family = "binomial", df),
#   "(2)" = feglm(CLI ~ cc_expo_ew | year, family = "binomial", df),
#   "(3)" = feglm(CLI ~ cc_expo_ew + ebit + I(ebit/at) | year, family = "binomial", df),
#   "(4)" = feglm(CLI ~ cc_expo_ew + ebit + I(ebit/at) + us_dummy + total_lobby | year, family = "binomial", df),
#   "(5)" = feglm(CLI ~ cc_expo_ew + ebit + I(ebit/at) + us_dummy + total_lobby | year + industry, family = "binomial", df),
#   "(6)" = feglm(CLI ~ cc_expo_ew + ebit + I(ebit/at) + us_dummy + total_lobby | year + industry + industry_year, family = "binomial", df),
#   "(7)" = feglm(CLI ~ cc_expo_ew + ebit + I(ebit/at) + us_dummy + total_lobby | year + gvkey, family = "binomial", df)
# )
#
#
# modelsummary(
#   models
#   ,stars = c('*' = .1, '**' = .05, '***' = .01)
#   #,title = 'Effect of Climate Change Attention on Lobbying on Climate Issues'
#   ,coef_map = cm
#   ,vcov = ~ year + gvkey
#   ,gof_omit = 'AIC|BIC|Log.Lik|Std.Errors|RMSE'
#   ,output = "results/tables/climate_logit_year_NEW.tex"
# )
models <- list(
"(1)" = feglm(CLI ~ cc_expo_ew, family = "binomial", df),
"(2)" = feglm(CLI ~ cc_expo_ew | year, family = "binomial", df),
"(3)" = feglm(CLI ~ cc_expo_ew + ebit + I(ebit/at) | year, family = "binomial", df),
"(4)" = feglm(CLI ~ cc_expo_ew + ebit + I(ebit/at) + us_dummy + total_lobby_quarter | year, family = "binomial", df),
"(5)" = feglm(CLI ~ cc_expo_ew + ebit + I(ebit/at) + us_dummy + total_lobby_quarter | year + gvkey, family = "binomial", df)
)
modelsummary(
models
,stars = c('*' = .1, '**' = .05, '***' = .01)
,coef_map = cm
,vcov = ~ year + gvkey
,gof_omit = 'AIC|BIC|Log.Lik|Std.Errors|RMSE'
,output = "latex_tabular"
,output = "results/tables/climate_logit_qrt_FIRM.tex"
)
## Overall climate lobbying, overall exposure for quarter by specific attention component
models <- list(
"(1)" = feglm(CLI ~ op_expo_ew + rg_expo_ew + ph_expo_ew, family = "binomial", df),
"(2)" = feglm(CLI ~ op_expo_ew + rg_expo_ew + ph_expo_ew | year, family = "binomial", df),
"(3)" = feglm(CLI ~ op_expo_ew + rg_expo_ew + ph_expo_ew + ebit + I(ebit/at) | year, family = "binomial", df),
"(4)" = feglm(CLI ~ op_expo_ew + rg_expo_ew + ph_expo_ew + ebit + I(ebit/at) + us_dummy + total_lobby_quarter | year, family = "binomial", df),
"(5)" = feglm(CLI ~ op_expo_ew + rg_expo_ew + ph_expo_ew + ebit + I(ebit/at) + us_dummy + total_lobby_quarter | year + industry, family = "binomial", df),
"(6)" = feglm(CLI ~ op_expo_ew + rg_expo_ew + ph_expo_ew + ebit + I(ebit/at) + us_dummy + total_lobby_quarter | year + industry + industry_year, family = "binomial", df),
"(7)" = feglm(CLI ~ cc_expo_ew + ebit + I(ebit/at) + us_dummy + total_lobby_quarter | year + industry + industry_year, family = "binomial", df)
)
summary(models$`(1)`)
models$`(1)`
View(models)
