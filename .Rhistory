unmatched <- (!exposure_orbis_wide$gvkey %in% d$gvkey) | (!exposure_orbis_wide$bvdid %in% d$bvdid)
e <- exposure_orbis_wide[unmatched, ]
## check if any unmatched cases somehow match perfectly (and arent duplicate throwaways)
sum(e$gvkey %in% lobby_client$gvkey & (!e$gvkey %in% duplicates$gvkey))
sum(e$bvdid %in% lobby_client$bvdid & !is.na(e$bvdid) & (!e$bvdid %in% duplicates$bvdid))
## do number of characters differ?
table(nchar(e$gvkey))
table(nchar(lobby_client$gvkey))
table(nchar(e$bvdid))
table(nchar(lobby_client$bvdid))
class(e$bvdid)
class(lobby_client$bvdid)
sum(substr(lobby_client$bvdid, 1, 2) == "US")
sum(substr(e$bvdid, 1, 2) == "US")
e_us <- e[which(substr(e$bvdid, 1, 2) == "US"), ]
## within us only, number of characters
table(nchar(e_us$bvdid))
table(nchar(lobby_client$bvdid))
## look at random sample of ids
sample(e_us$bvdid, 20)
sample(lobby_client$bvdid, 20)
## check if we just add L suffix to exposure_orbis if it produces matches
sum(paste0(e$bvdid, "L") %in% lobby_client$bvdid & (!e$bvdid %in% duplicates$bvdid))
## the legit matches are stored in d -- rename
exposure_orbis_lobby_wide <- d
duplicate_client_uuid <- duplicated(exposure_orbis_lobby_wide$client_uuid) | duplicated(exposure_orbis_lobby_wide$client_uuid, fromLast=T)
exposure_orbis_lobby_wide <- exposure_orbis_lobby_wide[!duplicate_client_uuid, ]
timespan <- 1999:2023
time_varying <- c("cc_expo_ew_", "cc_risk_ew_", "cc_pos_ew_", "cc_neg_ew_",
"cc_sent_ew_", "op_expo_ew_", "op_risk_ew_", "op_pos_ew_",
"op_neg_ew_", "op_sent_ew_", "rg_expo_ew_", "rg_risk_ew_",
"rg_pos_ew_", "rg_neg_ew_", "rg_sent_ew_", "ph_expo_ew_",
"ph_risk_ew_", "ph_pos_ew_", "ph_neg_ew_", "ph_sent_ew_",
"total_assets_usd_", "n_employees_", "operating_rev_usd_",
"P_L_b4tax_usd_")
moving_list <- lapply(time_varying, function(x) paste0(x, timespan))
moving_list
# adding columns with all missing values where necessary to get balanced
# time-dependent variables (needed for reshape function)
missing_cols <- unlist(moving_list)[!(unlist(moving_list) %in% names(exposure_orbis_lobby_wide))]
exposure_orbis_lobby_wide[, missing_cols] <- NA
## reshape data from wide to long format
exposure_orbis_lobby_long <- reshape(exposure_orbis_lobby_wide,
direction="long",
varying=moving_list,
times=timespan,
timevar="year",
idvar="isin")
names(exposure_orbis_lobby_long) <- gsub("_1999", "", names(exposure_orbis_lobby_long))
View(exposure_orbis_lobby_long)
names(exposure_orbis_lobby_long)
View(exposure_orbis_wide)
names(exposure_orbis_wide)
orbis <- read.csv("02_processed/orbis_11_05_2023.csv", stringsAsFactors = F)
orbis <- orbis[!is.na(orbis$isin), ] # since merging with sautner on isin, no need for NA isin rows
# sum(duplicated(orbis$isin))
View(orbis)
names(orbis)
modelsummary(
models
,stars = c('*' = .1, '**' = .05, '***' = .01)
#,title = 'Main Logit, Year-Industry Effects'
,coef_map = cm
,vcov = ~ year + bvdid
,gof_omit = 'AIC|BIC|Log.Lik|Std.Errors|RMSE'
# ,output = "results/tables/climate_logit_year_COMPARE.tex"
)
rm(list=ls())
# load packages
pacman::p_load(data.table, tidyverse, modelsummary,
marginaleffects, kableExtra, fixest,
janitor, viridis, censReg)
# set working directory
if(Sys.info()["user"]=="fiona" ) {setwd("/Users/fiona/Dropbox/BBH/BBH1/")}
if(Sys.info()["user"]=="christianbaehr" ) {setwd("/Users/christianbaehr/Dropbox/BBH/BBH1/")}
if(Sys.info()["user"]=="vincentheddesheimer" ) {setwd("~/Dropbox (Princeton)/BBH/BBH1/")}
# load data
df <- fread("data/03_final/lobbying_df_wide_reduced_normal.csv")
df_REV <- fread("data/03_final/lobbying_df_wide_reduced_REVISE_normal.csv")
View(df[, c("year_quarter", "gvkey", "CLI", "CLI_dollars")])
# Specify covariate names
cm <- c("op_expo_ew_y" = "Opportunity Exposure",
"rg_expo_ew_y" = "Regulatory Exposure",
"ph_expo_ew_y" = "Physical Exposure",
"op_expo_ew" = "Opportunity Exposure",
"rg_expo_ew" = "Regulatory Exposure",
"ph_expo_ew" = "Physical Exposure",
"cc_expo_ew_y" = "Overall Exposure",
"cc_expo_ew_q" = "Overall Exposure",
"ebit" = "EBIT",
"I(ebit/at)" = "EBIT/Assets",
"ebit_at" = "EBIT/Assets",
"log_co2_l1" = "Log(Total CO2 Emissions)",
"us_dummy" = "US HQ",
"total_lobby" = "Total Lobbying ($)"
)
# Lobbying Occurrence ------------------------------------------------------
## Overall exposure annual -------------------------------------------------
# models <- list(
#   "(1)" = feglm(CLI ~ cc_expo_ew_y, family = "binomial", df),
#   "(2)" = feglm(CLI ~ cc_expo_ew_y | year, family = "binomial", df),
#   "(3)" = feglm(CLI ~ cc_expo_ew_y + ebit + I(ebit/at) | year, family = "binomial", df),
#   "(4)" = feglm(CLI ~ cc_expo_ew_y + ebit + I(ebit/at) + us_dummy + total_lobby | year, family = "binomial", df),
#   "(5)" = feglm(CLI ~ cc_expo_ew_y + ebit + I(ebit/at) + us_dummy + total_lobby | year + industry, family = "binomial", df),
#   "(6)" = feglm(CLI ~ cc_expo_ew_y + ebit + I(ebit/at) + us_dummy + total_lobby | year + industry + industry_year, family = "binomial", df),
#   "(7)" = feglm(CLI ~ cc_expo_ew_y + ebit + I(ebit/at) + us_dummy + total_lobby | year + gvkey, family = "binomial", df)
# )
#
#
# modelsummary(
#   models
#   ,stars = c('*' = .1, '**' = .05, '***' = .01)
#   #,title = 'Effect of Climate Change Attention on Lobbying on Climate Issues'
#   ,coef_map = cm
#   ,vcov = ~ year + gvkey
#   ,gof_omit = 'AIC|BIC|Log.Lik|Std.Errors|RMSE'
#   ,output = "results/tables/climate_logit_year_NEW.tex"
# )
df$bvdid <- df$gvkey_n
sum(is.na(df_REV$CLI))
df_REV$CLI[is.na(df_REV$CLI)] <- 0
df_REV$CLI_dollars[is.na(df_REV$CLI_dollars)] <- 0
models <- list(
"Orig" = feglm(CLI ~ op_expo_ew_y + rg_expo_ew_y + ph_expo_ew_y + I(ebit/at) + us_dummy + total_lobby | year + industry + industry_year, family = "binomial", df),
"New" = feglm(CLI ~ op_expo_ew + rg_expo_ew + ph_expo_ew + ebit_at + us_dummy + total_lobby | year + industry + industry_year, family = "binomial", df_REV)
)
modelsummary(
models
,stars = c('*' = .1, '**' = .05, '***' = .01)
#,title = 'Main Logit, Year-Industry Effects'
,coef_map = cm
,vcov = ~ year + bvdid
,gof_omit = 'AIC|BIC|Log.Lik|Std.Errors|RMSE'
# ,output = "results/tables/climate_logit_year_COMPARE.tex"
)
rm(list=ls())
# load packages
pacman::p_load(data.table, tidyverse, modelsummary,
marginaleffects, kableExtra, fixest,
janitor, viridis, censReg)
# set working directory
if(Sys.info()["user"]=="fiona" ) {setwd("/Users/fiona/Dropbox/BBH/BBH1/")}
if(Sys.info()["user"]=="christianbaehr" ) {setwd("/Users/christianbaehr/Dropbox/BBH/BBH1/")}
if(Sys.info()["user"]=="vincentheddesheimer" ) {setwd("~/Dropbox (Princeton)/BBH/BBH1/")}
# load data
df <- fread("data/03_final/lobbying_df_wide_reduced_normal.csv")
df_REV <- fread("data/03_final/lobbying_df_annual_REVISE_normal.csv")
names(df)
df$bvdid <- df$gvkey_n
sum(is.na(df_REV$CLI))
df_REV$CLI[is.na(df_REV$CLI)] <- 0
df_REV$CLI_dollars[is.na(df_REV$CLI_dollars)] <- 0
models <- list(
"Orig" = feglm(CLI ~ op_expo_ew_y + rg_expo_ew_y + ph_expo_ew_y + I(ebit/at) + us_dummy + total_lobby | year + industry + industry_year, family = "binomial", df),
"New" = feglm(CLI ~ op_expo_ew + rg_expo_ew + ph_expo_ew + ebit_at + us_dummy + total_lobby | year + industry + industry_year, family = "binomial", df_REV)
)
names(df_REV)
rm(list=ls())
# load packages
pacman::p_load(data.table, tidyverse, modelsummary,
marginaleffects, kableExtra, fixest,
janitor, viridis, censReg)
# set working directory
if(Sys.info()["user"]=="fiona" ) {setwd("/Users/fiona/Dropbox/BBH/BBH1/")}
if(Sys.info()["user"]=="christianbaehr" ) {setwd("/Users/christianbaehr/Dropbox/BBH/BBH1/")}
if(Sys.info()["user"]=="vincentheddesheimer" ) {setwd("~/Dropbox (Princeton)/BBH/BBH1/")}
# load data
df <- fread("data/03_final/lobbying_df_wide_reduced_normal.csv")
df_REV <- fread("data/03_final/lobbying_df_annual_REVISE_normal.csv")
View(df[, c("year_quarter", "gvkey", "CLI", "CLI_dollars")])
neams(df_REV)
names(df_REV)
# Specify covariate names
cm <- c("op_expo_ew_y" = "Opportunity Exposure",
"rg_expo_ew_y" = "Regulatory Exposure",
"ph_expo_ew_y" = "Physical Exposure",
"op_expo_ew" = "Opportunity Exposure",
"rg_expo_ew" = "Regulatory Exposure",
"ph_expo_ew" = "Physical Exposure",
"cc_expo_ew_y" = "Overall Exposure",
"cc_expo_ew_q" = "Overall Exposure",
"ebit" = "EBIT",
"I(ebit/at)" = "EBIT/Assets",
"ebit_at" = "EBIT/Assets",
"log_co2_l1" = "Log(Total CO2 Emissions)",
"us_dummy" = "US HQ",
"total_lobby_annual" = "Total Lobbying ($)"
)
df$bvdid <- df$gvkey_n
sum(is.na(df_REV$CLI))
df_REV$CLI[is.na(df_REV$CLI)] <- 0
df_REV$CLI_dollars[is.na(df_REV$CLI_dollars)] <- 0
models <- list(
"Orig" = feglm(CLI ~ op_expo_ew_y + rg_expo_ew_y + ph_expo_ew_y + I(ebit/at) + us_dummy + total_lobby | year + industry + industry_year, family = "binomial", df),
"New" = feglm(CLI ~ op_expo_ew + rg_expo_ew + ph_expo_ew + ebit_at + us_dummy + total_lobby_annual | year + industry + industry_year, family = "binomial", df_REV)
)
table(df_REV$CLI, useNA = "ifany")
rm(list=ls())
# load packages
pacman::p_load(data.table, tidyverse, modelsummary,
marginaleffects, kableExtra, fixest,
janitor, viridis, censReg)
# set working directory
if(Sys.info()["user"]=="fiona" ) {setwd("/Users/fiona/Dropbox/BBH/BBH1/")}
if(Sys.info()["user"]=="christianbaehr" ) {setwd("/Users/christianbaehr/Dropbox/BBH/BBH1/")}
if(Sys.info()["user"]=="vincentheddesheimer" ) {setwd("~/Dropbox (Princeton)/BBH/BBH1/")}
# load data
df <- fread("data/03_final/lobbying_df_wide_reduced_normal.csv")
df_REV <- fread("data/03_final/lobbying_df_annual_REVISE_normal.csv")
# View(df[, c("year_quarter", "gvkey", "CLI", "CLI_dollars")])
# Specify covariate names
cm <- c("op_expo_ew_y" = "Opportunity Exposure",
"rg_expo_ew_y" = "Regulatory Exposure",
"ph_expo_ew_y" = "Physical Exposure",
"op_expo_ew" = "Opportunity Exposure",
"rg_expo_ew" = "Regulatory Exposure",
"ph_expo_ew" = "Physical Exposure",
"cc_expo_ew_y" = "Overall Exposure",
"cc_expo_ew_q" = "Overall Exposure",
"ebit" = "EBIT",
"I(ebit/at)" = "EBIT/Assets",
"ebit_at" = "EBIT/Assets",
"log_co2_l1" = "Log(Total CO2 Emissions)",
"us_dummy" = "US HQ",
"total_lobby_annual" = "Total Lobbying ($)"
)
# Lobbying Occurrence ------------------------------------------------------
## Overall exposure annual -------------------------------------------------
# models <- list(
#   "(1)" = feglm(CLI ~ cc_expo_ew_y, family = "binomial", df),
#   "(2)" = feglm(CLI ~ cc_expo_ew_y | year, family = "binomial", df),
#   "(3)" = feglm(CLI ~ cc_expo_ew_y + ebit + I(ebit/at) | year, family = "binomial", df),
#   "(4)" = feglm(CLI ~ cc_expo_ew_y + ebit + I(ebit/at) + us_dummy + total_lobby | year, family = "binomial", df),
#   "(5)" = feglm(CLI ~ cc_expo_ew_y + ebit + I(ebit/at) + us_dummy + total_lobby | year + industry, family = "binomial", df),
#   "(6)" = feglm(CLI ~ cc_expo_ew_y + ebit + I(ebit/at) + us_dummy + total_lobby | year + industry + industry_year, family = "binomial", df),
#   "(7)" = feglm(CLI ~ cc_expo_ew_y + ebit + I(ebit/at) + us_dummy + total_lobby | year + gvkey, family = "binomial", df)
# )
#
#
# modelsummary(
#   models
#   ,stars = c('*' = .1, '**' = .05, '***' = .01)
#   #,title = 'Effect of Climate Change Attention on Lobbying on Climate Issues'
#   ,coef_map = cm
#   ,vcov = ~ year + gvkey
#   ,gof_omit = 'AIC|BIC|Log.Lik|Std.Errors|RMSE'
#   ,output = "results/tables/climate_logit_year_NEW.tex"
# )
df$bvdid <- df$gvkey_n
sum(is.na(df_REV$CLI))
table(df_REV$CLI, useNA = "ifany")
names(df_REV)
View(df_REV)
head(df_REV$issue_text)
head(df_REV$issue_text, 20)
df_REV |> filter(CLI_annual == TRUE) |> select(issue_text)
df_REV |> filter(CLI_annual == TRUE) |> head(issue_text)
df_REV |> filter(CLI_annual == TRUE) |> select(issue_text) |> head(20)
rm(list=ls())
# load packages
pacman::p_load(data.table, tidyverse, modelsummary,
marginaleffects, kableExtra, fixest,
janitor, viridis, censReg)
# set working directory
if(Sys.info()["user"]=="fiona" ) {setwd("/Users/fiona/Dropbox/BBH/BBH1/")}
if(Sys.info()["user"]=="christianbaehr" ) {setwd("/Users/christianbaehr/Dropbox/BBH/BBH1/")}
if(Sys.info()["user"]=="vincentheddesheimer" ) {setwd("~/Dropbox (Princeton)/BBH/BBH1/")}
# load data
df <- fread("data/03_final/lobbying_df_wide_reduced_normal.csv")
df_REV <- fread("data/03_final/lobbying_df_annual_REVISE_normal.csv")
# Specify covariate names
cm <- c("op_expo_ew_y" = "Opportunity Exposure",
"rg_expo_ew_y" = "Regulatory Exposure",
"ph_expo_ew_y" = "Physical Exposure",
"op_expo_ew" = "Opportunity Exposure",
"rg_expo_ew" = "Regulatory Exposure",
"ph_expo_ew" = "Physical Exposure",
"cc_expo_ew_y" = "Overall Exposure",
"cc_expo_ew_q" = "Overall Exposure",
"ebit" = "EBIT",
"I(ebit/at)" = "EBIT/Assets",
"ebit_at" = "EBIT/Assets",
"log_co2_l1" = "Log(Total CO2 Emissions)",
"us_dummy" = "US HQ",
"total_lobby" = "Total Lobbying ($)"
)
df$bvdid <- df$gvkey_n
df$bvdid <- df$gvkey_n
sum(is.na(df_REV$CLI))
df_REV$CLI[is.na(df_REV$CLI)] <- 0
names(df_REV)
View(df_REV)
rm(list=ls())
# load packages
pacman::p_load(data.table, tidyverse, modelsummary,
marginaleffects, kableExtra, fixest,
janitor, viridis, censReg)
# set working directory
if(Sys.info()["user"]=="fiona" ) {setwd("/Users/fiona/Dropbox/BBH/BBH1/")}
if(Sys.info()["user"]=="christianbaehr" ) {setwd("/Users/christianbaehr/Dropbox/BBH/BBH1/")}
if(Sys.info()["user"]=="vincentheddesheimer" ) {setwd("~/Dropbox (Princeton)/BBH/BBH1/")}
# load data
df <- fread("data/03_final/lobbying_df_wide_reduced_normal.csv")
df_REV <- fread("data/03_final/lobbying_df_annual_REVISE_normal.csv")
#View(df[, c("year_quarter", "gvkey", "CLI", "CLI_dollars")])
# Specify covariate names
cm <- c("op_expo_ew_y" = "Opportunity Exposure",
"rg_expo_ew_y" = "Regulatory Exposure",
"ph_expo_ew_y" = "Physical Exposure",
"op_expo_ew" = "Opportunity Exposure",
"rg_expo_ew" = "Regulatory Exposure",
"ph_expo_ew" = "Physical Exposure",
"cc_expo_ew_y" = "Overall Exposure",
"cc_expo_ew_q" = "Overall Exposure",
"ebit" = "EBIT",
"I(ebit/at)" = "EBIT/Assets",
"ebit_at" = "EBIT/Assets",
"log_co2_l1" = "Log(Total CO2 Emissions)",
"us_dummy" = "US HQ",
"total_lobby" = "Total Lobbying ($)",
"total_lobby" = "Total Lobbying ($)"
)
# Lobbying Occurrence ------------------------------------------------------
## Overall exposure annual -------------------------------------------------
# models <- list(
#   "(1)" = feglm(CLI ~ cc_expo_ew_y, family = "binomial", df),
#   "(2)" = feglm(CLI ~ cc_expo_ew_y | year, family = "binomial", df),
#   "(3)" = feglm(CLI ~ cc_expo_ew_y + ebit + I(ebit/at) | year, family = "binomial", df),
#   "(4)" = feglm(CLI ~ cc_expo_ew_y + ebit + I(ebit/at) + us_dummy + total_lobby | year, family = "binomial", df),
#   "(5)" = feglm(CLI ~ cc_expo_ew_y + ebit + I(ebit/at) + us_dummy + total_lobby | year + industry, family = "binomial", df),
#   "(6)" = feglm(CLI ~ cc_expo_ew_y + ebit + I(ebit/at) + us_dummy + total_lobby | year + industry + industry_year, family = "binomial", df),
#   "(7)" = feglm(CLI ~ cc_expo_ew_y + ebit + I(ebit/at) + us_dummy + total_lobby | year + gvkey, family = "binomial", df)
# )
#
#
# modelsummary(
#   models
#   ,stars = c('*' = .1, '**' = .05, '***' = .01)
#   #,title = 'Effect of Climate Change Attention on Lobbying on Climate Issues'
#   ,coef_map = cm
#   ,vcov = ~ year + gvkey
#   ,gof_omit = 'AIC|BIC|Log.Lik|Std.Errors|RMSE'
#   ,output = "results/tables/climate_logit_year_NEW.tex"
# )
df$bvdid <- df$gvkey_n
sum(is.na(df_REV$CLI))
sum(is.na(df_REV$CLI_annual))
sum(is.na(df_REV$CLI_annual))
table(df_REV$CLI_annual)
names(df_REV)
models <- list(
"Orig" = feglm(CLI ~ op_expo_ew_y + rg_expo_ew_y + ph_expo_ew_y + I(ebit/at) + us_dummy + total_lobby | year + industry + industry_year, family = "binomial", df),
"New" = feglm(CLI_annual ~ op_expo_ew + rg_expo_ew + ph_expo_ew + ebit_at + us_dummy + total_lobby_annual | year + industry + industry_year, family = "binomial", df_REV)
)
modelsummary(
models
,stars = c('*' = .1, '**' = .05, '***' = .01)
#,title = 'Main Logit, Year-Industry Effects'
,coef_map = cm
,vcov = ~ year + bvdid
,gof_omit = 'AIC|BIC|Log.Lik|Std.Errors|RMSE'
# ,output = "results/tables/climate_logit_year_COMPARE.tex"
)
# Specify covariate names
cm <- c("op_expo_ew_y" = "Opportunity Exposure",
"rg_expo_ew_y" = "Regulatory Exposure",
"ph_expo_ew_y" = "Physical Exposure",
"op_expo_ew" = "Opportunity Exposure",
"rg_expo_ew" = "Regulatory Exposure",
"ph_expo_ew" = "Physical Exposure",
"cc_expo_ew_y" = "Overall Exposure",
"cc_expo_ew_q" = "Overall Exposure",
"ebit" = "EBIT",
"I(ebit/at)" = "EBIT/Assets",
"ebit_at" = "EBIT/Assets",
"log_co2_l1" = "Log(Total CO2 Emissions)",
"us_dummy" = "US HQ",
"total_lobby" = "Total Lobbying ($)"
)
modelsummary(
models
,stars = c('*' = .1, '**' = .05, '***' = .01)
#,title = 'Main Logit, Year-Industry Effects'
,coef_map = cm
,vcov = ~ year + bvdid
,gof_omit = 'AIC|BIC|Log.Lik|Std.Errors|RMSE'
# ,output = "results/tables/climate_logit_year_COMPARE.tex"
)
# Specify covariate names
cm <- c("op_expo_ew_y" = "Opportunity Exposure",
"rg_expo_ew_y" = "Regulatory Exposure",
"ph_expo_ew_y" = "Physical Exposure",
"op_expo_ew" = "Opportunity Exposure",
"rg_expo_ew" = "Regulatory Exposure",
"ph_expo_ew" = "Physical Exposure",
"cc_expo_ew_y" = "Overall Exposure",
"cc_expo_ew_q" = "Overall Exposure",
"ebit" = "EBIT",
"I(ebit/at)" = "EBIT/Assets",
"ebit_at" = "EBIT/Assets",
"log_co2_l1" = "Log(Total CO2 Emissions)",
"us_dummy" = "US HQ",
"total_lobby" = "Total Lobbying ($)",
"total_lobby_annual" = "Total Lobbying ($)"
)
models <- list(
"Orig" = feglm(CLI ~ op_expo_ew_y + rg_expo_ew_y + ph_expo_ew_y + I(ebit/at) + us_dummy + total_lobby | year + industry + industry_year, family = "binomial", df),
"New" = feglm(CLI_annual ~ op_expo_ew + rg_expo_ew + ph_expo_ew + ebit_at + us_dummy + total_lobby_annual | year + industry + industry_year, family = "binomial", df_REV)
)
modelsummary(
models
,stars = c('*' = .1, '**' = .05, '***' = .01)
#,title = 'Main Logit, Year-Industry Effects'
,coef_map = cm
,vcov = ~ year + bvdid
,gof_omit = 'AIC|BIC|Log.Lik|Std.Errors|RMSE'
# ,output = "results/tables/climate_logit_year_COMPARE.tex"
)
table(df$total_lobby)
summary(df$total_lobby)
summary(df_REV$total_lobby_annual)
names(df_REV)
## Overall climate lobbying (DOLLARS), overall exposure for annual
models <- list(
"Old" = feols(log(CLI_dollars +1) ~ op_expo_ew_y + rg_expo_ew_y + ph_expo_ew_y + I(ebit/at) + us_dummy + total_lobby | year + industry + industry_year, df),
"New" = feols(log(CLI_amount_annual +1) ~ op_expo_ew + rg_expo_ew + ph_expo_ew + ebit_at + us_dummy + total_lobby_annual | year + industry + industry_year, df_REV)
)
modelsummary(
models
,stars = c('*' = .1, '**' = .05, '***' = .01)
#,title = 'Effect of Climate Change Attention on Lobbying on Climate Issues'
,coef_map = cm
,vcov = ~ year + bvdid
,gof_omit = 'AIC|BIC|Log.Lik|Std.Errors|RMSE'
# ,output = "results/tables/climate_ols_dollars_year_COMPARE.tex"
)
df_quarterly <- fread("data/03_final/lobbying_df_quarterly_REVISE_normal.csv")
names(df_quarterly)
View(df_quarterly)
models <- list(
"Orig" = feglm(CLI ~ op_expo_ew_y + rg_expo_ew_y + ph_expo_ew_y + I(ebit/at) + us_dummy + total_lobby | year + industry + industry_year, family = "binomial", df),
"New" = feglm(CLI_annual ~ op_expo_ew + rg_expo_ew + ph_expo_ew + ebit_at + us_dummy + total_lobby_annual | year + industry + industry_year, family = "binomial", df_REV),
"New Q" = feglm(CLI_quarterly ~ op_expo_ew + rg_expo_ew + ph_expo_ew + ebit_at + us_dummy + total_lobby_quarterly | year + industry + industry_year, family = "binomial", df_quarterly)
)
modelsummary(
models
,stars = c('*' = .1, '**' = .05, '***' = .01)
#,title = 'Main Logit, Year-Industry Effects'
,coef_map = cm
,vcov = ~ year + bvdid
,gof_omit = 'AIC|BIC|Log.Lik|Std.Errors|RMSE'
# ,output = "results/tables/climate_logit_year_COMPARE.tex"
)
# Specify covariate names
cm <- c("op_expo_ew_y" = "Opportunity Exposure",
"rg_expo_ew_y" = "Regulatory Exposure",
"ph_expo_ew_y" = "Physical Exposure",
"op_expo_ew" = "Opportunity Exposure",
"rg_expo_ew" = "Regulatory Exposure",
"ph_expo_ew" = "Physical Exposure",
"cc_expo_ew_y" = "Overall Exposure",
"cc_expo_ew_q" = "Overall Exposure",
"ebit" = "EBIT",
"I(ebit/at)" = "EBIT/Assets",
"ebit_at" = "EBIT/Assets",
"log_co2_l1" = "Log(Total CO2 Emissions)",
"us_dummy" = "US HQ",
"total_lobby" = "Total Lobbying ($)",
"total_lobby_annual" = "Total Lobbying ($)",
"total_lobby_quarterly" = "Total Lobbying ($)"
)
modelsummary(
models
,stars = c('*' = .1, '**' = .05, '***' = .01)
#,title = 'Main Logit, Year-Industry Effects'
,coef_map = cm
,vcov = ~ year + bvdid
,gof_omit = 'AIC|BIC|Log.Lik|Std.Errors|RMSE'
# ,output = "results/tables/climate_logit_year_COMPARE.tex"
)
names(df_quarterly)
## Overall climate lobbying (DOLLARS), overall exposure for annual
models <- list(
"Old" = feols(log(CLI_dollars +1) ~ op_expo_ew_y + rg_expo_ew_y + ph_expo_ew_y + I(ebit/at) + us_dummy + total_lobby | year + industry + industry_year, df),
"New" = feols(log(CLI_amount_annual +1) ~ op_expo_ew + rg_expo_ew + ph_expo_ew + ebit_at + us_dummy + total_lobby_annual | year + industry + industry_year, df_REV),
"New Q" = feglm(CLI_amount_quarterly ~ op_expo_ew + rg_expo_ew + ph_expo_ew + ebit_at + us_dummy + total_lobby_quarterly | year + industry + industry_year, family = "binomial", df_quarterly)
)
## Overall climate lobbying (DOLLARS), overall exposure for annual
models <- list(
"Old" = feols(log(CLI_dollars +1) ~ op_expo_ew_y + rg_expo_ew_y + ph_expo_ew_y + I(ebit/at) + us_dummy + total_lobby | year + industry + industry_year, df),
"New" = feols(log(CLI_amount_annual +1) ~ op_expo_ew + rg_expo_ew + ph_expo_ew + ebit_at + us_dummy + total_lobby_annual | year + industry + industry_year, df_REV),
"New Q" = feglm(log(CLI_amount_quarterly+1) ~ op_expo_ew + rg_expo_ew + ph_expo_ew + ebit_at + us_dummy + total_lobby_quarterly | year + industry + industry_year, family = "binomial", df_quarterly)
)
## Overall climate lobbying (DOLLARS), overall exposure for annual
models <- list(
"Old" = feols(log(CLI_dollars +1) ~ op_expo_ew_y + rg_expo_ew_y + ph_expo_ew_y + I(ebit/at) + us_dummy + total_lobby | year + industry + industry_year, df),
"New" = feols(log(CLI_amount_annual +1) ~ op_expo_ew + rg_expo_ew + ph_expo_ew + ebit_at + us_dummy + total_lobby_annual | year + industry + industry_year, df_REV),
"New Q" = feols(log(CLI_amount_quarterly+1) ~ op_expo_ew + rg_expo_ew + ph_expo_ew + ebit_at + us_dummy + total_lobby_quarterly | year + industry + industry_year, family = "binomial", df_quarterly)
)
modelsummary(
models
,stars = c('*' = .1, '**' = .05, '***' = .01)
#,title = 'Effect of Climate Change Attention on Lobbying on Climate Issues'
,coef_map = cm
,vcov = ~ year + bvdid
,gof_omit = 'AIC|BIC|Log.Lik|Std.Errors|RMSE'
# ,output = "results/tables/climate_ols_dollars_year_COMPARE.tex"
)
foreign <- df_REV |> filter(us_dummy == 0) |> select(CLI_annual)
View(foreign)
table(foreign$CLI_annual)
names(df_REV)
